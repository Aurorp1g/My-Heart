(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3991:function(e,t,r){Promise.resolve().then(r.bind(r,6911))},5043:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var a=r(7437),n=r(2265),s=r(7907);function l(e){let{children:t,requiredPassword:r="250601"}=e,[l,o]=(0,n.useState)(null),[i,c]=(0,n.useState)(!1),[u,d]=(0,n.useState)(""),[m,h]=(0,n.useState)(""),f=(0,s.useRouter)();return((0,s.usePathname)(),(0,n.useEffect)(()=>{(()=>{let e=localStorage.getItem("encrypted-auth"),t=localStorage.getItem("auth-time");if(e&&t)try{let[t,a]=atob(e).split("|");if(t===btoa(r)&&Date.now()-parseInt(a)<864e5){o(!0);return}}catch(e){localStorage.removeItem("encrypted-auth"),localStorage.removeItem("auth-time")}o(!1),c(!0)})()},[r]),i)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-pink-50 to-red-100",children:(0,a.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-xl max-w-md w-full mx-4",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("i",{className:"fas fa-lock text-red-500 text-2xl"})}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"访问保护"}),(0,a.jsx)("p",{className:"text-gray-600",children:"请输入密码访问此页面"})]}),(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),h(""),u===r){let e=Date.now().toString(),t=btoa("".concat(btoa(r),"|").concat(e));localStorage.setItem("encrypted-auth",t),localStorage.setItem("auth-time",e),o(!0),c(!1),d("")}else h("密码错误，请重试")},className:"space-y-4",children:[(0,a.jsx)("div",{children:(0,a.jsx)("input",{type:"password",value:u,onChange:e=>d(e.target.value),placeholder:"请输入访问密码",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",autoFocus:!0})}),m&&(0,a.jsx)("div",{className:"text-red-500 text-sm text-center",children:m}),(0,a.jsx)("button",{type:"submit",className:"w-full bg-red-500 hover:bg-red-600 text-white py-3 rounded-lg font-medium transition-colors",children:"解锁访问"})]}),(0,a.jsx)("div",{className:"mt-6 text-center text-sm text-gray-500",children:(0,a.jsx)("p",{children:"这是受保护的私人内容"})})]})}):null===l?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"验证中..."})]})}):(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute top-4 right-4 z-50",children:(0,a.jsxs)("button",{onClick:()=>{localStorage.removeItem("encrypted-auth"),localStorage.removeItem("auth-time"),o(!1),c(!0),f.push("/")},className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors shadow-lg",title:"退出登录",children:[(0,a.jsx)("i",{className:"fas fa-sign-out-alt mr-2"}),"退出"]})}),t]})}},2223:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var a=r(7437),n=r(8792),s=r(2265),l=r(4215),o=r.n(l);function i(){let[e,t]=(0,s.useState)(!1),[r,l]=(0,s.useState)(!1),[i,c]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=()=>{let e=localStorage.getItem("encrypted-auth"),t=localStorage.getItem("auth-time");if(e&&t)try{let[t,r]=atob(e).split("|");Date.now()-parseInt(r)<864e5?c(!0):(localStorage.removeItem("encrypted-auth"),localStorage.removeItem("auth-time"),c(!1))}catch(e){localStorage.removeItem("encrypted-auth"),localStorage.removeItem("auth-time"),c(!1)}else c(!1)};e();let t=()=>{e()};return window.addEventListener("storage",t),()=>window.removeEventListener("storage",t)},[]),(0,s.useEffect)(()=>{let e=()=>{l(window.pageYOffset>50)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);let u=()=>{localStorage.removeItem("encrypted-auth"),localStorage.removeItem("auth-time"),c(!1),alert("加密状态已重置，下次访问需要重新输入密码");let e=window.location.pathname;(e.includes("/gallery-wall")||e.includes("/letter-gallery"))&&window.location.reload()};return(0,a.jsx)("nav",{className:"".concat(o().navbar," ").concat(r?o().scrolled:""),children:(0,a.jsxs)("div",{className:o().navbarContainer,children:[(0,a.jsx)("div",{className:o().logo,children:(0,a.jsx)(n.default,{href:"/",className:o().logoLink,children:(0,a.jsx)("span",{className:o().logoText,children:"\uD83D\uDC98 \uD835\uDD78\uD835\uDD9E \uD835\uDD8D\uD835\uDD8A\uD835\uDD86\uD835\uDD97\uD835\uDD99"})})}),(0,a.jsxs)("div",{className:o().menu,children:[(0,a.jsx)(n.default,{href:"/",className:o().menuLink,children:"\uD83C\uDFE0 首页"}),(0,a.jsx)(n.default,{href:"/gallery-wall",className:o().menuLink,children:"\uD83D\uDCF8 照片墙"}),(0,a.jsx)(n.default,{href:"/letter-gallery",className:o().menuLink,children:"\uD83D\uDC8C 信廊"}),i&&(0,a.jsx)("button",{className:o().reEncryptButton,onClick:u,title:"重新加密 - 清除当前认证状态",children:"\uD83D\uDD12 重新加密"})]}),(0,a.jsxs)("button",{className:o().mobileMenuButton,onClick:()=>t(!e),"aria-label":"菜单",children:[(0,a.jsx)("span",{}),(0,a.jsx)("span",{}),(0,a.jsx)("span",{})]}),(0,a.jsxs)("div",{className:"".concat(o().mobileMenu," ").concat(e?o().mobileMenuOpen:""),children:[(0,a.jsx)(n.default,{href:"/",className:o().mobileMenuLink,onClick:()=>t(!1),children:"\uD83C\uDFE0 首页"}),(0,a.jsx)(n.default,{href:"/gallery-wall",className:o().mobileMenuLink,onClick:()=>t(!1),children:"\uD83D\uDCF8 照片墙"}),(0,a.jsx)(n.default,{href:"/letter-gallery",className:o().mobileMenuLink,onClick:()=>t(!1),children:"\uD83D\uDC8C 信廊"}),i&&(0,a.jsx)("button",{className:o().mobileReEncryptButton,onClick:()=>{u(),t(!1)},children:"\uD83D\uDD12 重新加密"})]})]})})}var c=r(7121),u=r.n(c);function d(){let[e,t]=(0,s.useState)(new Date().getFullYear());return(0,s.useEffect)(()=>{t(new Date().getFullYear())},[]),(0,a.jsx)("footer",{className:u().footer,children:(0,a.jsxs)("div",{className:u().footerContent,children:[(0,a.jsxs)("p",{id:u().footerCopyright,children:["\xa9 ",e," BY Aurorp1g. 小猪猪专属\uD83D\uDC37."]}),(0,a.jsxs)("div",{className:u().footerLinks,children:[(0,a.jsx)("a",{href:"https://github.com/Aurorp1g",target:"_blank",rel:"noopener noreferrer",children:(0,a.jsx)("i",{className:"fab fa-github"})}),(0,a.jsx)("a",{href:"https://space.bilibili.com/2066996205",target:"_blank",rel:"noopener noreferrer",children:(0,a.jsx)("i",{className:"fab fa-bilibili"})}),(0,a.jsx)("a",{href:"https://aurorp1g.github.io/",target:"_blank",rel:"noopener noreferrer",children:(0,a.jsx)("i",{className:"fas fa-blog"})})]})]})})}var m=r(553),h=r.n(m);function f(e){let{children:t}=e;return(0,a.jsxs)("div",{className:h().layout,children:[(0,a.jsx)(i,{}),(0,a.jsx)("main",{className:h().mainContent,children:t}),(0,a.jsx)(d,{})]})}},6911:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var a=r(7437),n=r(2265),s=r(8792),l=r(2223),o=r(9306),i=r.n(o),c=r(5043);let u="welcome to my heart\uD83D\uDC95";function d(){let[e,t]=(0,n.useState)(""),[r,o]=(0,n.useState)(!1),[d,m]=(0,n.useState)(0),h=(0,n.useRef)();return(0,n.useEffect)(()=>{let e=()=>{r?d>0?(t(u.substring(0,d-1)),m(d-1),h.current=setTimeout(e,50)):(o(!1),h.current=setTimeout(e,100)):d<u.length?(t(u.substring(0,d+1)),m(d+1),h.current=setTimeout(e,100)):h.current=setTimeout(()=>o(!0),2e3)};return h.current=setTimeout(e,100),()=>{h.current&&clearTimeout(h.current)}},[d,r]),(0,a.jsx)(c.Z,{children:(0,a.jsx)(l.Z,{children:(0,a.jsxs)("div",{className:i().homeContainer,style:{background:"".concat("url('".concat("/My-Heart","/bg/home-background.jpg')")," center/cover no-repeat fixed")},children:[(0,a.jsxs)("div",{className:i().printerSection,children:[(0,a.jsxs)("div",{className:i().printerMachine,children:[(0,a.jsxs)("div",{className:i().trafficLights,children:[(0,a.jsx)("div",{className:i().trafficLightRed}),(0,a.jsx)("div",{className:i().trafficLightYellow}),(0,a.jsx)("div",{className:i().trafficLightGreen})]}),(0,a.jsx)("div",{className:i().printerTop}),(0,a.jsx)("div",{className:i().printerBody,children:(0,a.jsx)("div",{className:i().paperOutput,children:(0,a.jsxs)("div",{className:i().typingPaper,children:[(0,a.jsx)("span",{className:i().typedText,children:e}),(0,a.jsx)("span",{className:i().cursor,children:"|"})]})})}),(0,a.jsx)("div",{className:i().printerBottom})]}),(0,a.jsxs)("div",{className:i().welcomeMessage,children:[(0,a.jsx)("h1",{children:"欢迎小猪猪~~ \uD83E\uDD70"}),(0,a.jsx)("p",{children:"选择您想要探索的区域"})]})]}),(0,a.jsxs)("div",{className:i().featureGrid,children:[(0,a.jsxs)(s.default,{href:"/gallery-wall",className:i().featureCard,children:[(0,a.jsx)("div",{className:i().featureIcon,children:"\uD83D\uDDBC️"}),(0,a.jsx)("h3",{children:"照片墙"}),(0,a.jsx)("p",{children:"纪念我们的珍贵瞬间"})]}),(0,a.jsxs)(s.default,{href:"/letter-gallery",className:i().featureCard,children:[(0,a.jsx)("div",{className:i().featureIcon,children:"\uD83D\uDC8C"}),(0,a.jsx)("h3",{children:"信廊"}),(0,a.jsx)("p",{children:"阅读我们的珍贵信件"})]})]})]})})})}},7121:function(e){e.exports={footer:"footer_footer__wCyt8",footerContent:"footer_footerContent__jHp3r",footerLinks:"footer_footerLinks__Kdp0q",footerCopyright:"footer_footerCopyright__tfHdq",footerBlink:"footer_footerBlink__Vy2hx"}},553:function(e){e.exports={layout:"layout_layout__5LqQF",mainContent:"layout_mainContent__G_6Yc"}},4215:function(e){e.exports={navbar:"navbar_navbar__iB8wV",navbarContainer:"navbar_navbarContainer__Ua68S",logoLink:"navbar_logoLink__rm4T3",logoText:"navbar_logoText__td_O2",gradientShift:"navbar_gradientShift__pFjyG",menu:"navbar_menu__WqQ9M",menuLink:"navbar_menuLink__CydcH",reEncryptButton:"navbar_reEncryptButton__69xCH",mobileReEncryptButton:"navbar_mobileReEncryptButton__fg_Gz",mobileMenuButton:"navbar_mobileMenuButton__tjr2F",mobileMenu:"navbar_mobileMenu__qyJrZ",slideDown:"navbar_slideDown__G8LvC",mobileMenuOpen:"navbar_mobileMenuOpen__EW5IZ",mobileMenuLink:"navbar_mobileMenuLink__L4vtq",scrolled:"navbar_scrolled__WW7SD"}},9306:function(e){e.exports={homeContainer:"home_homeContainer__Vubfu",printerSection:"home_printerSection__eH2cP",featureGrid:"home_featureGrid__KT6FK",printerMachine:"home_printerMachine__6Sudc",printerTop:"home_printerTop__9D856",printerBody:"home_printerBody__baV20",paperOutput:"home_paperOutput__A_t2T",typingPaper:"home_typingPaper__ovayL",typedText:"home_typedText__I2wtM",cursor:"home_cursor__wdCW_",blink:"home_blink__tBDSN",printerBottom:"home_printerBottom__ulnAA",trafficLights:"home_trafficLights__LsvSM",trafficLightRed:"home_trafficLightRed__23J9t",trafficLightYellow:"home_trafficLightYellow__3ix3N",trafficLightGreen:"home_trafficLightGreen__lIyq6",welcomeMessage:"home_welcomeMessage__Q68_n",featureCard:"home_featureCard__mhPve",featureIcon:"home_featureIcon__42_vj"}}},function(e){e.O(0,[901,971,69,744],function(){return e(e.s=3991)}),_N_E=e.O()}]);