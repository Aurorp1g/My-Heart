(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[701],{479:function(e,a,t){Promise.resolve().then(t.bind(t,175))},2223:function(e,a,t){"use strict";t.d(a,{Z:function(){return f}});var n=t(7437),s=t(8792),r=t(2265),i=t(4215),l=t.n(i);function o(){let[e,a]=(0,r.useState)(!1),[t,i]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=()=>{i(window.pageYOffset>50)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,n.jsx)("nav",{className:"".concat(l().navbar," ").concat(t?l().scrolled:""),children:(0,n.jsxs)("div",{className:l().navbarContainer,children:[(0,n.jsx)("div",{className:l().logo,children:(0,n.jsx)(s.default,{href:"/",className:l().logoLink,children:(0,n.jsx)("span",{className:l().logoText,children:"\uD83D\uDC98 \uD835\uDD78\uD835\uDD9E \uD835\uDD8D\uD835\uDD8A\uD835\uDD86\uD835\uDD97\uD835\uDD99"})})}),(0,n.jsxs)("div",{className:l().menu,children:[(0,n.jsx)(s.default,{href:"/",className:l().menuLink,children:"\uD83C\uDFE0 首页"}),(0,n.jsx)(s.default,{href:"/gallery-wall",className:l().menuLink,children:"\uD83D\uDCF8 照片墙"}),(0,n.jsx)(s.default,{href:"/letter-gallery",className:l().menuLink,children:"\uD83D\uDC8C 信廊"})]}),(0,n.jsxs)("button",{className:l().mobileMenuButton,onClick:()=>a(!e),"aria-label":"菜单",children:[(0,n.jsx)("span",{}),(0,n.jsx)("span",{}),(0,n.jsx)("span",{})]}),(0,n.jsxs)("div",{className:"".concat(l().mobileMenu," ").concat(e?l().mobileMenuOpen:""),children:[(0,n.jsx)(s.default,{href:"/",className:l().mobileMenuLink,onClick:()=>a(!1),children:"\uD83C\uDFE0 首页"}),(0,n.jsx)(s.default,{href:"/gallery-wall",className:l().mobileMenuLink,onClick:()=>a(!1),children:"\uD83D\uDCF8 照片墙"}),(0,n.jsx)(s.default,{href:"/letter-gallery",className:l().mobileMenuLink,onClick:()=>a(!1),children:"\uD83D\uDC8C 信廊"})]})]})})}var c=t(7121),m=t.n(c);function u(){let[e,a]=(0,r.useState)(new Date().getFullYear());return(0,r.useEffect)(()=>{a(new Date().getFullYear())},[]),(0,n.jsx)("footer",{className:m().footer,children:(0,n.jsxs)("div",{className:m().footerContent,children:[(0,n.jsxs)("p",{id:m().footerCopyright,children:["\xa9 ",e," BY Aurorp1g. 小猪猪专属\uD83D\uDC37."]}),(0,n.jsxs)("div",{className:m().footerLinks,children:[(0,n.jsx)("a",{href:"https://github.com/Aurorp1g",target:"_blank",rel:"noopener noreferrer",children:(0,n.jsx)("i",{className:"fab fa-github"})}),(0,n.jsx)("a",{href:"https://space.bilibili.com/2066996205",target:"_blank",rel:"noopener noreferrer",children:(0,n.jsx)("i",{className:"fab fa-bilibili"})}),(0,n.jsx)("a",{href:"https://aurorp1g.github.io/",target:"_blank",rel:"noopener noreferrer",children:(0,n.jsx)("i",{className:"fas fa-blog"})})]})]})})}var d=t(553),g=t.n(d);function f(e){let{children:a}=e;return(0,n.jsxs)("div",{className:g().layout,children:[(0,n.jsx)(o,{}),(0,n.jsx)("main",{className:g().mainContent,children:a}),(0,n.jsx)(u,{})]})}},175:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return p}});var n=t(7437),s=t(7956),r=t.n(s),i=t(7191),l=t(2767),o=t.n(l);function c(e){var a;return(0,n.jsxs)(i.E.div,{className:o().framedPicture+" shadow-xl cursor-pointer",initial:{scale:.7,rotate:0},whileInView:{scale:1,rotate:null!==(a=e.rotate)&&void 0!==a?a:10*Math.random()+-5},transition:{type:"spring",stiffness:400,damping:20,mass:1},whileHover:{scale:1.05},whileTap:{scale:1},drag:!0,dragConstraints:{top:0,left:0,right:0,bottom:0},onClick:e.onClick,children:[(0,n.jsx)("div",{className:o().imageListContainer,children:e.imageList.map((a,t)=>(0,n.jsx)(i.E.img,{src:a,alt:"image about "+e.nameTag,className:o().framedPictureImage,whileInView:{scale:1},transition:{type:"spring",stiffness:200,damping:20,mass:1},whileHover:{scale:1.05},whileTap:{scale:1}},t))}),""!=e.nameTag&&(0,n.jsx)("h1",{className:r().className+" "+o().framedPictureNameTag,children:e.nameTag}),""!=e.timeTag&&(0,n.jsx)("p",{className:r().className+" "+o().framedPictureTimeTag,children:e.timeTag})]})}function m(e){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:o().letterGalleryContainer,children:e.picturePropsList.map((a,t)=>(0,n.jsx)(c,{imageList:a.imageList,nameTag:a.nameTag,timeTag:a.timeTag,rotate:0,onClick:()=>{a.herf&&""!==a.herf?window.open(a.herf,"_blank"):a.imageList.length>0&&e.onImageClick(a.imageList[0],a.nameTag,a.timeTag)}},a.nameTag+t.toString()))})})}var u=t(1348),d=t(2265);function g(e){let{isOpen:a,imageSrc:t,nameTag:s,timeTag:r,onClose:l}=e,[c,m]=(0,d.useState)(1),[g,f]=(0,d.useState)({x:0,y:0}),[h,_]=(0,d.useState)(!1),[p,x]=(0,d.useState)({x:0,y:0}),b=(0,d.useRef)(null),y=(0,d.useRef)(null);(0,d.useEffect)(()=>{if(a){let e=window.scrollY;document.body.style.overflow="hidden",document.body.style.position="relative",window.scrollTo(0,e)}else document.body.style.overflow="",document.body.style.position="";return()=>{document.body.style.overflow="",document.body.style.position=""}},[a]);let v=()=>{m(1),f({x:0,y:0})};(0,d.useEffect)(()=>{a||v()},[a]);let j=()=>m(e=>Math.min(e+.2,3)),k=()=>m(e=>Math.max(e-.2,.5)),w=()=>v(),N=()=>{_(!1)};return(0,d.useEffect)(()=>{let e=e=>{if(a)switch(e.key){case"Escape":l();break;case"+":case"=":e.preventDefault(),j();break;case"-":e.preventDefault(),k();break;case"0":e.preventDefault(),w()}};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[a,l]),(0,n.jsx)(u.M,{children:a&&(0,n.jsx)(i.E.div,{className:"fixed inset-0 z-[1100] flex items-center justify-center ".concat(o().imageViewerBackdrop),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:l,children:(0,n.jsxs)(i.E.div,{ref:y,className:"relative ".concat(o().imageViewerContent),initial:{scale:.7,opacity:0,y:50,rotate:-5},animate:{scale:1,opacity:1,y:0,rotate:0},exit:{scale:.7,opacity:0,y:50,rotate:5},transition:{type:"spring",damping:25,stiffness:300,mass:1.1},onClick:e=>e.stopPropagation(),children:[(0,n.jsx)("div",{className:"absolute -top-4 -left-4 w-8 h-8 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full opacity-60 blur-sm"}),(0,n.jsx)("div",{className:"absolute -bottom-4 -right-4 w-12 h-12 bg-gradient-to-r from-yellow-400 to-red-400 rounded-full opacity-40 blur-sm"}),(0,n.jsxs)("div",{className:"absolute top-4 right-4 flex gap-2 z-20 ".concat(o().toolbar),children:[(0,n.jsx)(i.E.button,{className:"".concat(o().toolbarButton),onClick:k,whileHover:{scale:1.1},whileTap:{scale:.9},title:"缩小",children:(0,n.jsx)("i",{className:"fa-solid fa-magnifying-glass-minus"})}),(0,n.jsx)(i.E.button,{className:"".concat(o().toolbarButton),onClick:w,whileHover:{scale:1.1},whileTap:{scale:.9},title:"重置",children:(0,n.jsx)("span",{className:"text-xs font-bold",children:"1:1"})}),(0,n.jsx)(i.E.button,{className:"".concat(o().toolbarButton),onClick:j,whileHover:{scale:1.1},whileTap:{scale:.9},title:"放大",children:(0,n.jsx)("i",{className:"fa-solid fa-magnifying-glass-plus"})})]}),(0,n.jsx)(i.E.button,{className:"absolute -top-6 -right-6 z-10 rounded-full p-3 text-white text-2xl ".concat(o().imageViewerCloseButton),onClick:l,whileHover:{scale:1.15,rotate:180},whileTap:{scale:.9},children:(0,n.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,n.jsxs)(i.E.div,{className:"p-6",whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:10},children:[(0,n.jsx)("div",{className:"rounded-2xl overflow-hidden cursor-move",onMouseDown:e=>{c<=1||(_(!0),x({x:e.clientX-g.x,y:e.clientY-g.y}))},onMouseMove:e=>{h&&!(c<=1)&&f({x:e.clientX-p.x,y:e.clientY-p.y})},onMouseUp:N,onMouseLeave:N,onWheel:e=>{e.preventDefault();let a=e.deltaY>0?-.1:.1;m(e=>Math.max(.5,Math.min(3,e+a)))},style:{cursor:c>1?"grab":"default"},children:(0,n.jsx)("img",{ref:b,src:"/My-Heart"+t,alt:s,className:"w-full max-h-[70vh] object-contain ".concat(o().imageViewerImage),style:{transform:"scale(".concat(c,") translate(").concat(g.x,"px, ").concat(g.y,"px)"),transformOrigin:"center center",transition:"transform 0.2s ease"},draggable:!1})}),(s||r)&&(0,n.jsxs)(i.E.div,{className:"mt-6 text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[s&&(0,n.jsx)(i.E.h3,{className:"text-3xl font-bold text-white mb-3 bg-gradient-to-r from-white to-gray-200 bg-clip-text text-transparent",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.4},children:s}),r&&(0,n.jsxs)(i.E.p,{className:"text-white/80 text-lg font-light italic",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},children:["\uD83D\uDCC5 ",r]})]})]}),(0,n.jsxs)(i.E.div,{className:"absolute -bottom-10 left-1/2 transform -translate-x-1/2 text-white/60 text-sm font-light text-center",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:[(0,n.jsx)("div",{children:"✨ 滚轮缩放 • 拖拽移动 • 点击背景关闭 ✨"}),(0,n.jsx)("div",{className:"text-xs mt-1",children:"快捷键: +放大 -缩小 0重置 Esc关闭"})]}),1!==c&&(0,n.jsxs)(i.E.div,{className:"absolute top-4 left-4 bg-black/50 text-white px-3 py-1 rounded-full text-sm font-mono z-20",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},children:[Math.round(100*c),"%"]})]})})})}var f=t(2223),h=t(9151),_=t.n(h);function p(){let[e,a]=(0,d.useState)({backgroundImage:"",randomOrder:!1,letterPropsList:[]}),[t,s]=(0,d.useState)({isOpen:!1,imageSrc:"",nameTag:"",timeTag:""});(0,d.useEffect)(()=>{fetch("/letter-gallery/letter-gallery-config.json").then(e=>e.json()).then(e=>{let t={backgroundImage:"",randomOrder:!1,letterPropsList:[]};""!=e.backgroundImage&&e.backgroundImage&&(t.backgroundImage=e.backgroundImage),e.randomOrder&&(t.randomOrder=e.randomOrder),e.letterList.forEach(e=>{t.letterPropsList.push({imageList:e.imageList||[e.imageSrc],nameTag:e.nameTag,timeTag:e.timeTag,herf:e.herf})}),a(t)})},[]);let r=e.randomOrder?(e=>{for(let a=e.length-1;a>0;a--){let t=Math.floor(Math.random()*(a+1));[e[a],e[t]]=[e[t],e[a]]}return e})([...e.letterPropsList]):e.letterPropsList;return(0,n.jsxs)(f.Z,{children:[(0,n.jsxs)("div",{className:_().backgroundContainer,children:[(0,n.jsx)("div",{className:_().backgroundImage,style:{backgroundImage:"url('".concat(e.backgroundImage,"')")}}),(0,n.jsx)("div",{className:_().backgroundImage,style:{backgroundImage:"url('/bg/letter-background.jpg')"}})]}),(0,n.jsxs)("div",{className:_().contentWrapper,children:[(0,n.jsxs)("div",{className:_().pageHeader,children:[(0,n.jsx)("h1",{children:"信廊"}),(0,n.jsx)("p",{children:"这里收藏着我的信件"})]}),(0,n.jsx)(m,{picturePropsList:r,onImageClick:(e,a,t)=>{s({isOpen:!0,imageSrc:e,nameTag:a,timeTag:t})}})]}),(0,n.jsx)(g,{isOpen:t.isOpen,imageSrc:t.imageSrc,nameTag:t.nameTag,timeTag:t.timeTag,onClose:()=>{s({isOpen:!1,imageSrc:"",nameTag:"",timeTag:""})}})]})}},7121:function(e){e.exports={footer:"footer_footer__wCyt8",footerContent:"footer_footerContent__jHp3r",footerLinks:"footer_footerLinks__Kdp0q",footerCopyright:"footer_footerCopyright__tfHdq",footerBlink:"footer_footerBlink__Vy2hx"}},553:function(e){e.exports={layout:"layout_layout__5LqQF",mainContent:"layout_mainContent__G_6Yc"}},4215:function(e){e.exports={navbar:"navbar_navbar__iB8wV",navbarContainer:"navbar_navbarContainer__Ua68S",logoLink:"navbar_logoLink__rm4T3",logoText:"navbar_logoText__td_O2",gradientShift:"navbar_gradientShift__pFjyG",menu:"navbar_menu__WqQ9M",menuLink:"navbar_menuLink__CydcH",mobileMenuButton:"navbar_mobileMenuButton__tjr2F",mobileMenu:"navbar_mobileMenu__qyJrZ",slideDown:"navbar_slideDown__G8LvC",mobileMenuOpen:"navbar_mobileMenuOpen__EW5IZ",mobileMenuLink:"navbar_mobileMenuLink__L4vtq",scrolled:"navbar_scrolled__WW7SD"}},2767:function(e){e.exports={letterGalleryContainer:"styles_letterGalleryContainer__ZDpu3",framedPicture:"styles_framedPicture__E4d7G",imageListContainer:"styles_imageListContainer__zQ5E1",framedPictureImage:"styles_framedPictureImage__9FumQ",framedPictureNameTag:"styles_framedPictureNameTag__T2xJk",framedPictureTimeTag:"styles_framedPictureTimeTag___S7Dp",imageViewerBackdrop:"styles_imageViewerBackdrop__e2qJ_",imageViewerContent:"styles_imageViewerContent__0EZDr",imageViewerImage:"styles_imageViewerImage___Cn3w",imageViewerCloseButton:"styles_imageViewerCloseButton__9HB2P",toolbar:"styles_toolbar__hFXH_",toolbarButton:"styles_toolbarButton__vXvLN"}},9151:function(e){e.exports={background:"styles_background__x6Rv1",backgroundNoiseFilter:"styles_backgroundNoiseFilter__MDw8d",backgroundContainer:"styles_backgroundContainer__ngLis",backgroundImage:"styles_backgroundImage__D2Jj_",contentWrapper:"styles_contentWrapper__G_iZf",pageHeader:"styles_pageHeader__l1Izd"}},7956:function(e){e.exports={style:{fontFamily:"'__Oswald_fb5e8d', '__Oswald_Fallback_fb5e8d'",fontStyle:"normal"},className:"__className_fb5e8d"}}},function(e){e.O(0,[792,67,971,69,744],function(){return e(e.s=479)}),_N_E=e.O()}]);